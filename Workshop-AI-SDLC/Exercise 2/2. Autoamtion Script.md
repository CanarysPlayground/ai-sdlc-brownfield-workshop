
---
**Workshop**: Testing Persona ‚Äì Requirement to Test  
**Phase**: 2 of 3 (Automation Script Generation)

### **Scenario**
Building on Phase 1's test scenarios generated using M365 Agent, you will now use **GitHub Copilot** to generate Playwright automation scripts for the Cart Icon feature. These scripts will translate your test scenarios into executable code following the Page Object Model pattern.

### **Learning Objectives**
By completing Phase 2, you will learn to:
- ‚úÖ Configure Playwright with Cucumber BDD framework
- ‚úÖ Use M365 Agent to generate Gherkin feature files from test scenarios
- ‚úÖ Use GitHub Copilot to generate step definitions and Page Objects
- ‚úÖ Create executable BDD test scripts with Given/When/Then syntax

## üéØ **PREREQUISITES**

### **Required Tools**
- ‚úÖ Visual Studio Code with GitHub Copilot extension
- ‚úÖ Node.js 18+ and npm installed
- ‚úÖ M365 Copilot access
- ‚úÖ GitHub Copilot Chat enabled
- ‚úÖ Git installed and configured

### **Completion Requirements**
- ‚úÖ **Phase 1 completed**: Test scenarios generated using M365 Agent
- ‚úÖ **Test Documentation Created**:
  - `docs/testing/feature-summary.md` (from Spec Kit artifacts)
  - `docs/testing/testable-components.md` (M365 Agent output)
  - `docs/testing/functional-test-scenarios.md` (M365 Agent output)
  - `docs/testing/edge-case-scenarios.md` (M365 Agent output)
  - `docs/testing/accessibility-test-scenarios.md` (M365 Agent output)
  - `docs/testing/integration-test-scenarios.md` (M365 Agent output)
  - `docs/testing/test-plan.md` (M365 Agent output)
  - `docs/testing/test-priority-matrix.md` (M365 Agent output)
  - `docs/testing/test-data.json` (M365 Agent output)
- ‚úÖ **GitHub Issues Created**: Test scenario issues tracked in repository
- ‚úÖ **Application Running**: 
  - Frontend: `http://localhost:5173`
  - Backend API: Available and accessible

---

## üöÄ **PHASE 2: AUTOMATION SCRIPT GENERATION**

<details>
<summary><h3>‚öôÔ∏è STEP 1: SETUP PLAYWRIGHT</h3></summary>

<br>

#### 1.1 Initialize Playwright Project

Navigate to your project root:
```bash
cd supply-chain-system
```

- Install the Playwright extension to assist with setting up and running Playwright tests.
- Use the Search marketplace command to find and install the Playwright extension.
- Use the Playwright: Install command to install Playwright and its dependencies in your project.
- Use the Playwright: Install browsers command to install the required browsers for testing.

![Playwright Extension Installation](../assets/playwrightinstall.png)

![Playwright Browser Selection](../assets/playwright%20select%20browsers.png)

Now that you have the Playwright extension installed, you can proceed with generating Playwright test scripts using GitHub Copilot. The extension will help you run and debug the tests, but for generation, you'll use Copilot prompts that reference your existing test scenario files and test data.

Follow these steps to create the test scripts. Each prompt references the specific files you created in Phase 1 (e.g., `docs/testing/functional-test-scenarios.md`, `docs/testing/test-data.json`, etc.). Use GitHub Copilot Chat to run these prompts, then save the generated code into the appropriate files in your `tests/e2e/tests/` directory.


### **Step 1: Set Up Test Directory Structure**
Before generating scripts, ensure your directory structure is ready:
```bash
cd supply-chain-system
mkdir -p tests/e2e/tests
mkdir -p tests/e2e/pages
mkdir -p tests/e2e/fixtures
```

![Test Script Configuration](../assets/testscriptConfig.PNG)

### **Step 2: Generate Page Object Models (POM)**
First, create reusable Page Objects that your tests will use.

#### Purpose
Creates a reusable foundation class that other page-specific classes (e.g., HeaderPage, ProductPage) can extend.
Encapsulates common functionality to avoid code duplication across test pages.
Follows the Page Object Model (POM) pattern, which makes tests more maintainable and readable.

**Prompt 1: Generate Base Page Object**
```
@workspace Create a base Page Object class for Playwright tests.

Include:
- Constructor with page parameter
- Common navigation methods
- Wait utilities
- Screenshot helpers
- Error handling
- Logging capabilities

File: tests/e2e/pages/BasePage.ts
Use TypeScript with strict typing.
```

**Save Output:** Create `tests/e2e/pages/BasePage.ts` and paste Copilot's response.

**Prompt 2: Generate Header Page Object (for Cart Icon)**
```
@workspace Create a Page Object for the Header component including Cart Icon.

Based on the Cart Icon feature implementation in supply-chain-system/frontend.

Include methods form files created agentic implementation phase.
example files like .specify/specs/<NNN-cart-icon-implementation>/spec.md
created files in front end
for cart icon

Add selectors for:
- Cart icon button
- Badge element
- Item count text

File: tests/e2e/pages/HeaderPage.ts
Extend BasePage class.
```

**Save Output:** Create `tests/e2e/pages/HeaderPage.ts` and paste Copilot's response.

**Prompt 3: Generate Product and Cart Page Objects**
```
@workspace Create Page Objects for Product and Cart pages.

Based on the Cart Icon feature implementation.

ProductPage methods:
-

CartPage methods:


Files: tests/e2e/pages/ProductPage.ts and tests/e2e/pages/CartPage.ts
```

**Save Output:** Create both files and paste Copilot's responses.

### **Step 3: Generate Functional Test Scripts**
Use your `docs/testing/functional-test-scenarios.md` file as the reference.

**Prompt 4: Generate Cart Icon Visibility Tests**
```
@workspace Generate Playwright tests for Cart Icon visibility scenarios.

Create test suite covering tests based on spec/testing/functional-test-scenarios.md (Cart Icon Visibility section)
Save it in 
File: tests/e2e/tests/cart-icon-visibility.spec.ts
Use Page Objects from pages/
Include proper test setup and teardown.
```

**Save Output:** Create `tests/e2e/tests/cart-icon-visibility.spec.ts` and paste Copilot's response.

- Based on the Cart Icon visibility scenarios in docs/testing/functional-test-scenarios.md (Cart Icon Visibility section), and referencing the Page Objects in pages (e.g., HeaderPage, ProductPage, and CartPage), here's the Playwright test suite.
- It covers the specified scenarios, uses the Page Objects, and includes proper setup/teardown (e.g., starting the app on localhost:5173 from playwright.config.ts).



review the test file created and if found any issues fix them asking copilot to /fix the issues in the test file

Make sure your Frontend and backend servers are running:
```bash
npm run dev   # Frontend
npm start     # Backend API
```
```
Now you can run the test
```bash
npm run test:e2e    
```
 to verify everything is set up correctly.
```bash
npx playwright show-report

```
This will take you to the Serving HTML report at
 http://localhost:9325

![Playwright Tests Passed](../assets/playwright%20tests%20passed.PNG)


Similarly , use the following prompts to generate the remaining test scripts:

**Prompt 5: Generate Add to Cart Tests**
```
@workspace Generate Playwright tests for Add to Cart functionality.

Based on: specs/testing/functional-test-scenarios.md (Add to Cart section)
Test scenarios:
1. Add single item - badge updates to "1"
2. Add multiple items - badge shows correct count
3. Add item with quantity 5 - badge shows "5"
4. Add multiple different products - badge shows total
5. Badge updates in real-time

File: tests/e2e/tests/add-to-cart.spec.ts
Use test data from: docs/testing/test-data.json
Use Page Objects from pages/
```

**Save Output:** Create `tests/e2e/tests/add-to-cart.spec.ts` and paste Copilot's response.

**Prompt 6: Generate Cart Persistence Tests**
```
@workspace Generate Playwright tests for cart state persistence.

Test scenarios based on spec/testing/functional-test-scenarios.md 

File: tests/e2e/tests/cart-persistence.spec.ts
Include localStorage validation.
Use Page Objects from pages/
```

**Save Output:** Create `tests/e2e/tests/cart-persistence.spec.ts` and paste Copilot's response.

**Prompt 7: Generate Navigation Tests**
```
@workspace Generate Playwright tests for cart icon navigation.
Test scenarios from file specs/testing/functional-test-scenarios.md (Navigation section):

File: tests/e2e/tests/cart-navigation.spec.ts
Use Page Objects from pages/
```

**Save Output:** Create `tests/e2e/tests/cart-navigation.spec.ts` and paste Copilot's response.

### **Step 4: Generate Edge Case and Error Handling Test Scripts**
Use your `docs/testing/edge-case-scenarios.md` file as the reference.

**Prompt 8: Generate Edge Case Tests**
```
@workspace Generate Playwright tests for edge cases and boundary conditions.

Test scenarios based on: specs/testing/edge-case-scenarios.md
save it in 
File: tests/e2e/tests/cart-edge-cases.spec.ts
Include proper assertions and error handling.
Use test data from: specs/testing/test-data.json
Use Page Objects from pages/
```

**Save Output:** Create `tests/e2e/tests/cart-edge-cases.spec.ts` and paste Copilot's response.

**Prompt 9: Generate Error Handling Tests**
```
@workspace Generate Playwright tests for error handling scenarios.

Test scenarios based on: specs/testing/edge-case-scenarios.md (Error Handling section)
File: tests/e2e/tests/cart-error-handling.spec.ts
Mock API failures using Playwright's route interception.
Use Page Objects from pages/
```

**Save Output:** Create `tests/e2e/tests/cart-error-handling.spec.ts` and paste Copilot's response.

### **Step 5: Generate Integration Test Scripts**
Use your `specs/testing/integration-test-scenarios.md` file as the reference.

**Prompt 10: Generate E2E Integration Tests**
```
@workspace Generate end-to-end integration tests for complete user workflows.

Based on the file specs/testing/integration-test-scenarios.md

Test workflows:
File: tests/e2e/tests/cart-e2e-flows.spec.ts
Test complete user journeys, not isolated features.
Use test data from: specs/testing/test-data.json
save it in 
File: tests/e2e/tests/cart-e2e-flows.spec.ts
Test complete user journeys, not isolated features.
Use test data from: docs/testing/test-data.json
Use Page Objects from pages/
```

**Save Output:** Create `tests/e2e/tests/cart-e2e-flows.spec.ts` and paste Copilot's response.

### **Step 6: Generate Accessibility Test Scripts**
Use your `docs/testing/accessibility-test-scenarios.md` file as the reference.

**Prompt 11: Generate Accessibility Tests**
```
@workspace Generate Playwright accessibility tests for Cart Icon feature.

Test scenarios based on: specs/testing/accessibility-test-scenarios.md

File: tests/e2e/tests/cart-accessibility.spec.ts
Use @axe-core/playwright for automated a11y checks.
Include manual keyboard navigation tests.
Use Page Objects from pages/
```

**Save Output:** Create `tests/e2e/tests/cart-accessibility.spec.ts` and paste Copilot's response.


**Next**: Proceed to Phase 3 - Execute Tests and CI/CD Integration. All your test scripts are now ready and reference your Phase 1 test scenarios and data!
---

### **üéâ CONGRATULATIONS! YOU'VE COMPLETED AutomationScript generation!**


